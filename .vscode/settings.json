{
    "search.exclude": {
        "Ð°rchive/": true,
    },
    // #region nix
    "nix.enableLanguageServer": true,
    "nix.serverPath": [
        "nixd",
        // "--inlay-hints=false",
        // "--semantic-tokens=true",
    ],
    // check https://github.com/nix-community/nixd/blob/main/nixd/docs/configuration.md for all nixd config
    "nix.serverSettings": {
        "nixd": {
            "nixpkgs": {
                "expr": "let inputs = (builtins.getFlake (''git+file://'' + toString ./. + ''?dir=nix'')).inputs; system = ''x86_64-linux''; in (import ''${toString ./.}/nix/nixpkgs.nix'' { inherit system inputs; })",
            },
            "options": {
                "nixos": {
                    "expr": "(builtins.getFlake (''git+file://'' + toString ./. + ''?dir=nix'')).nixosConfigurations.ROG14.options",
                },
                "home-manager": {
                    // "expr": "(builtins.getFlake (''git+file://'' + toString ./. + ''?dir=nix'')).homeConfigurations.ogurez.options",
                    "expr": "(builtins.getFlake (''git+file://'' + toString ./. + ''?dir=nix'')).nixosConfigurations.ROG14.options.home-manager.users.type.getSubOptions []",
                },
                "nix-on-droid": {
                    "expr": "(builtins.getFlake (''git+file://'' + toString ./. + ''?dir=nix'')).nixOnDroidConfigurations.default.options",
                },
            },
        }
    },
    "[nix]": {
        "editor.formatOnSave": true,
        "editor.wordBasedSuggestions": "off",
    },
    "nix.hiddenLanguageServerErrors": [
        "textDocument/definition",
        "textDocument/formatting",
    ],
    // #endregion nix
    "Lua.workspace.library": [
        "/etc/profiles/per-user/ogurez/share/nvim/runtime/lua",
        //? git clone https://github.com/DrKJeff16/wezterm-types
        "/Data/projects/.clones/wezterm-types/lua/wezterm/types",
    ],
}